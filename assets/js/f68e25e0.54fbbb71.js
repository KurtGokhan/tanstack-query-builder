"use strict";(self.webpackChunktanstack_query_builder_website=self.webpackChunktanstack_query_builder_website||[]).push([[202],{1267:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>l,frontMatter:()=>h,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/http","title":"HTTP Options","description":"Various options can be passed to the HTTP client on each request. These options can be used to customize the behavior of the HTTP client, such as setting headers, timeouts, and more.","source":"@site/docs/api/http.mdx","sourceDirName":"api","slug":"/api/http","permalink":"/tanstack-query-builder/api/http","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"HTTP Options","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Query API","permalink":"/tanstack-query-builder/api/query"},"next":{"title":"Client API","permalink":"/tanstack-query-builder/api/client"}}');var n=i(2540),d=i(3023);const h={title:"HTTP Options",sidebar_position:7},o=void 0,r={},a=[{value:"Options",id:"options",level:2},{value:"<code>method</code>",id:"method",level:3},{value:"<code>baseUrl</code>",id:"baseurl",level:3},{value:"<code>path</code>",id:"path",level:3},{value:"<code>params</code>",id:"params",level:3},{value:"<code>search</code>",id:"search",level:3},{value:"<code>headers</code>",id:"headers",level:3},{value:"<code>body</code>",id:"body",level:3},{value:"<code>meta</code>",id:"meta",level:3},{value:"<code>responseType</code>",id:"responsetype",level:3},{value:"<code>timeout</code>",id:"timeout",level:3},{value:"<code>delay</code>",id:"delay",level:3},{value:"<code>abortable</code>",id:"abortable",level:3},{value:"<code>concurrency</code>",id:"concurrency",level:3},{value:"<code>key</code>",id:"key",level:3}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Various options can be passed to the HTTP client on each request. These options can be used to customize the behavior of the HTTP client, such as setting headers, timeouts, and more."}),"\n",(0,n.jsx)(t.h2,{id:"options",children:"Options"}),"\n",(0,n.jsx)(t.p,{children:"The following options can be passed to the HTTP client on each request."}),"\n",(0,n.jsxs)(t.p,{children:["Note that some of these options will not be used in the construction of the query key, meaning that they will not refetch the query when they change.\nOptions that may change the response will be used in key creation.\nThese are ",(0,n.jsx)(t.code,{children:"method"}),", ",(0,n.jsx)(t.code,{children:"baseUrl"}),", ",(0,n.jsx)(t.code,{children:"path"}),", ",(0,n.jsx)(t.code,{children:"params"}),", ",(0,n.jsx)(t.code,{children:"search"}),", ",(0,n.jsx)(t.code,{children:"headers"}),", ",(0,n.jsx)(t.code,{children:"body"}),", ",(0,n.jsx)(t.code,{children:"responseType"})," and additionally ",(0,n.jsx)(t.code,{children:"key"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"method",children:(0,n.jsx)(t.code,{children:"method"})}),"\n",(0,n.jsxs)(t.p,{children:["The HTTP method to be used for the request. It's ",(0,n.jsx)(t.code,{children:"GET"})," by default and can also be ",(0,n.jsx)(t.code,{children:"POST"}),", ",(0,n.jsx)(t.code,{children:"PUT"}),", ",(0,n.jsx)(t.code,{children:"DELETE"}),", ",(0,n.jsx)(t.code,{children:"PATCH"}),", ",(0,n.jsx)(t.code,{children:"HEAD"}),", ",(0,n.jsx)(t.code,{children:"OPTIONS"}),", or ",(0,n.jsx)(t.code,{children:"TRACE"}),".\nThis can also be set with the ",(0,n.jsx)(t.a,{href:"./builder#withmethod",children:(0,n.jsx)(t.code,{children:"withMethod"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"baseurl",children:(0,n.jsx)(t.code,{children:"baseUrl"})}),"\n",(0,n.jsxs)(t.p,{children:["The base URL to be used to construct the URL of the request. This option is prepended to the ",(0,n.jsx)(t.code,{children:"path"})," if it's not an absolute URL.\nIt is useful for setting a common base URL for all requests, such as an API endpoint.\nThis can also be set with the ",(0,n.jsx)(t.a,{href:"./builder#withbaseurl",children:(0,n.jsx)(t.code,{children:"withBaseUrl"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"path",children:(0,n.jsx)(t.code,{children:"path"})}),"\n",(0,n.jsxs)(t.p,{children:["The path to the resource. This is a required option. It can be an absolute URL or a relative URL. If it's a relative URL, it will be prepended with the ",(0,n.jsx)(t.code,{children:"baseUrl"})," option.\nThis can also be set with the ",(0,n.jsx)(t.a,{href:"./builder#withpath",children:(0,n.jsx)(t.code,{children:"withPath"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"params",children:(0,n.jsx)(t.code,{children:"params"})}),"\n",(0,n.jsxs)(t.p,{children:["The path can contain path parameters, which are replaced with the values passed in the ",(0,n.jsx)(t.code,{children:"params"})," option.\nThe path parameters are defined with the ",(0,n.jsx)(t.code,{children:":paramName"})," syntax.\nFor example, if the path is ",(0,n.jsx)(t.code,{children:"/users/:id"}),", and the ",(0,n.jsx)(t.code,{children:"params"})," option is ",(0,n.jsx)(t.code,{children:"{ id: 1 }"}),", the final URL will be ",(0,n.jsx)(t.code,{children:"/users/1"}),".\nThe typing and default params can be set with the ",(0,n.jsx)(t.a,{href:"./builder#withparams",children:(0,n.jsx)(t.code,{children:"withParams"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"search",children:(0,n.jsx)(t.code,{children:"search"})}),"\n",(0,n.jsxs)(t.p,{children:["The search parameters to be added to the URL. This option is an object with the parameter names as keys and the parameter values as values.\nThe search parameters are added to the URL as a query string. For example, if the path is ",(0,n.jsx)(t.code,{children:"/users"}),", and the ",(0,n.jsx)(t.code,{children:"search"})," option is ",(0,n.jsx)(t.code,{children:"{ id: 1 }"}),", the final URL will be ",(0,n.jsx)(t.code,{children:"/users?id=1"}),".\nThe typing and default search parameters can be set with the ",(0,n.jsx)(t.a,{href:"./builder#withsearch",children:(0,n.jsx)(t.code,{children:"withSearch"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"headers",children:(0,n.jsx)(t.code,{children:"headers"})}),"\n",(0,n.jsxs)(t.p,{children:["The headers to be sent with the request. This option is an object with the header names as keys and the header values as values.\nThe typing and default headers can be set with the ",(0,n.jsx)(t.a,{href:"./builder#withheaders",children:(0,n.jsx)(t.code,{children:"withHeaders"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"body",children:(0,n.jsx)(t.code,{children:"body"})}),"\n",(0,n.jsxs)(t.p,{children:["The body of the request. This option can be a string, an object, or a buffer. If it's an object, it will be serialized to JSON and the ",(0,n.jsx)(t.code,{children:"Content-Type"})," header will be set to ",(0,n.jsx)(t.code,{children:"application/json"}),".\nThe typing and default body can be set with the ",(0,n.jsx)(t.a,{href:"./builder#withbody",children:(0,n.jsx)(t.code,{children:"withBody"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"meta",children:(0,n.jsx)(t.code,{children:"meta"})}),"\n",(0,n.jsxs)(t.p,{children:["The meta information to be sent with the request.\nThe typing and default meta can be set with the ",(0,n.jsx)(t.a,{href:"./builder#withmeta",children:(0,n.jsx)(t.code,{children:"withMeta"})})," method of the builder."]}),"\n",(0,n.jsx)(t.h3,{id:"responsetype",children:(0,n.jsx)(t.code,{children:"responseType"})}),"\n",(0,n.jsxs)(t.p,{children:["The type of the response. This option can be ",(0,n.jsx)(t.code,{children:"json"}),", ",(0,n.jsx)(t.code,{children:"text"}),", ",(0,n.jsx)(t.code,{children:"blob"}),", ",(0,n.jsx)(t.code,{children:"arraybuffer"}),", or ",(0,n.jsx)(t.code,{children:"response"}),". The default may be inferred from the response or be ",(0,n.jsx)(t.code,{children:"json"})," if it can't be inferred."]}),"\n",(0,n.jsx)(t.h3,{id:"timeout",children:(0,n.jsx)(t.code,{children:"timeout"})}),"\n",(0,n.jsxs)(t.p,{children:["The timeout for the request in milliseconds. If the request takes longer than this time, it will be aborted.\nThe default timeout is ",(0,n.jsx)(t.code,{children:"0"}),", which means no timeout."]}),"\n",(0,n.jsx)(t.h3,{id:"delay",children:(0,n.jsx)(t.code,{children:"delay"})}),"\n",(0,n.jsx)(t.p,{children:"The request will be delayed by the specified number of milliseconds.\nUseful for debouncing requests that might be triggered multiple times in a short period of time.\nCan also be used to simulate slow network."}),"\n",(0,n.jsx)(t.h3,{id:"abortable",children:(0,n.jsx)(t.code,{children:"abortable"})}),"\n",(0,n.jsxs)(t.p,{children:["Whether the request can be aborted. If this option is ",(0,n.jsx)(t.code,{children:"true"}),", the request will be aborted if query is cancelled."]}),"\n",(0,n.jsx)(t.h3,{id:"concurrency",children:(0,n.jsx)(t.code,{children:"concurrency"})}),"\n",(0,n.jsxs)(t.p,{children:["An object accepting optional ",(0,n.jsx)(t.code,{children:"limit"})," and ",(0,n.jsx)(t.code,{children:"key"})," properties."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"key"}),": The key to be used to identify the pool the request belongs to. Concurrent requests with the same key will be grouped together and share the same pool. Can be left empty to use the default pool."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"limit"}),": The maximum number of concurrent requests in the pool. If the limit is reached, the request will be queued until a slot is available. There is no limit by default."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"key",children:(0,n.jsx)(t.code,{children:"key"})}),"\n",(0,n.jsx)(t.p,{children:"Additional key that will be used to identify the request. When the key changes, the request will be refetched."})]})}function l(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},3023:(e,t,i)=>{i.d(t,{R:()=>h,x:()=>o});var s=i(3696);const n={},d=s.createContext(n);function h(e){const t=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:h(e.components),s.createElement(d.Provider,{value:t},e.children)}}}]);